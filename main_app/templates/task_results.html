<!-- main_app/templates/task_results.html -->

{% extends 'base.html' %}

{% block content %}
  <h2>Task Results</h2>
  <p>Task: {{ status.task.title }}</p>
  <p>Total Pomegranates Completed: {{ status.pomegranates_completed }}</p>
  <p>Total Breaks Taken: {{ status.breaks }}</p>
  <p>Total Time Spent (in seconds): {{ status.task.total_time_spent }}</p>
  
  <button id="completion-popup">Complete Task</button>
  
  <div id="popup" class="hidden">
    <div class="popup-content">
      <h3>Good Job!</h3>
      <p>Congratulations on completing the task!</p>
      <a href="{% url 'index' %}" class="btn">Back to Task List</a>
    </div>
  </div>

  <script>
    const completionPopup = document.getElementById('completion-popup');
    const popup = document.getElementById('popup');
    
    completionPopup.addEventListener('click', () => {
      popup.classList.remove('hidden');
    });
  </script>
{% endblock %}
